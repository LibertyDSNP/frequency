#! /bin/sh

set -e
set -x

./scripts/init.sh install-toolchain
cargo install cargo-deadlinks
cargo doc --no-deps

# cargo-deadlinks will check any links in docs generated by `cargo doc`.
# This is useful as rustdoc uses raw links which are error prone.
command -v cargo-deadlinks &> /dev/null &&
	cargo deadlinks

cd -
